{% extends "template.html" %}
{% block content %}
<!-- Team leaderboard -->
<table>
    <thead>
        <tr>
            {% for header in team_headings %}
                <th>{{ header }}</th>
            {% endfor %}
        </tr>
    </thead>
    {% for row in team_leaderboard %}
        <tr class="{{ row.Vehicle.team.name|lower }}">
            <td>{{ row.Team.name }}</td>
            <td>{{ row.points }}</td>
            <td>{{ row.total_cups }}</td>
            <td>{{ row.team_champion }}</td>
            <td>{{ row.team_second }}</td>
            <td>{{ row.team_third }}</td>
        </tr>
    {% endfor %}
</table>

<!-- Podium results  -->
<table>
    <thead>
        <tr>
            {% for header in podium_headings %}
                <th>{{ header }}</th>
            {% endfor %}
        </tr>
    </thead>
    {% for row in podium_results %}
        <tr>
            <td class="black-background">{{ row["season"] }}</td>
            <td class="{{ row['champion']['team']|lower }}">{{ row["champion"]["vehicle"] }}</td>
            <td class="{{ row['second']['team']|lower }}">{{ row["second"]["vehicle"] }}</td>
            <td class="{{ row['third']['team']|lower }}">{{ row["third"]["vehicle"] }}</td>
        </tr>
    {% endfor %}
</table>

<!-- Vehicle leaderboard  -->
<table>
    <thead>
        <tr>
            {% for header in vehicle_headings %}
                <th>{{ header }}</th>
            {% endfor %}
        </tr>
    </thead>
    {% for row in vehicle_leaderboard %}
        {% if row.points != 0 %}
            <tr class="{{ row.Vehicle.team.name|lower }}">
                <td>{{ row.Vehicle.name }}</td>
                <td>{{ row.Vehicle.team.name }}</td>
                <td>{{ row.Vehicle.event_appearances }}</td>
                <td>{{ row.cla }}</td>
                <td>{{ ("%.3f"|format(row.rre)).lstrip("0") }}</td>
                <td>{{ row.points }}</td>
                <td class="black-background">
                    {% if row.Vehicle.champion or row.Vehicle.second or row.Vehicle.third %}
                        <span class="c-champion">{{ "C" * (row.Vehicle.champion) }}</span>
                        <span class="c-second">{{ "C" * (row.Vehicle.second) }}</span>
                        <span class="c-third">{{ "C" * (row.Vehicle.third) }}</span>
                    {% endif %}
                </td>
            </tr>
        {% endif %}
    {% endfor %}
</table>


{% endblock content %}
